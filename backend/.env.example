# =============================================================================
# MOVICAR Backend Environment Configuration
# =============================================================================
# Copy this file to .env and update with your actual values
# DO NOT commit .env to version control
# =============================================================================

# -----------------------------------------------------------------------------
# SERVER CONFIGURATION
# -----------------------------------------------------------------------------
# Port on which the server will run
PORT=3001

# Environment: development | production | test
# - development: Enables DB sync, seeders, and full SQL logging
# - production: Disables DB sync, seeders, and SQL logging; requires JWT_SECRET
# - test: For running tests
NODE_ENV=development

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION (REQUIRED)
# -----------------------------------------------------------------------------
# PostgreSQL connection settings
# These are REQUIRED - server will not start without them

DB_HOST=localhost
DB_PORT=5432
DB_NAME=movicar_db
DB_USER=postgres
DB_PASSWORD=your_secure_password_here

# Database logging: true | false | minimal
# - true: Full SQL query logging (default in development)
# - false: No SQL logging (default in production)
# - minimal: Only log slow queries (> 1 second)
# DB_LOGGING=true

# -----------------------------------------------------------------------------
# JWT CONFIGURATION
# -----------------------------------------------------------------------------
# Secret key for signing JWT tokens
# IMPORTANT: Use a strong, unique secret in production (at least 32 characters)
# This is REQUIRED in production mode
JWT_SECRET=your_super_secret_jwt_key_here_at_least_32_chars

# Token expiration time (default: 24h)
# Format: number + unit (s=seconds, m=minutes, h=hours, d=days)
JWT_EXPIRES_IN=24h

# Refresh token expiration time (default: 7d)
JWT_REFRESH_EXPIRES_IN=7d

# -----------------------------------------------------------------------------
# CORS CONFIGURATION
# -----------------------------------------------------------------------------
# Allowed origin for CORS requests (frontend URL)
CORS_ORIGIN=http://localhost:5173

# -----------------------------------------------------------------------------
# EMAIL CONFIGURATION (OPTIONAL)
# -----------------------------------------------------------------------------
# SMTP settings for sending emails (notifications, password reset, etc.)
# Leave empty to disable email functionality

EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your_email@gmail.com
EMAIL_PASSWORD=your_app_password
EMAIL_FROM=noreply@movicar.com

# -----------------------------------------------------------------------------
# REDIS CONFIGURATION (OPTIONAL)
# -----------------------------------------------------------------------------
# Redis settings for Bull Queue (background jobs, caching)
# Leave empty if not using Redis

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# -----------------------------------------------------------------------------
# FILE STORAGE CONFIGURATION
# -----------------------------------------------------------------------------
# Paths for storing uploaded files and generated PDFs
# Relative to the backend root directory

STORAGE_PATH=./storage
PDF_STORAGE_PATH=./storage/pdfs

# -----------------------------------------------------------------------------
# FRONTEND CONFIGURATION
# -----------------------------------------------------------------------------
# Frontend URL for WebSocket connections and email links

FRONTEND_URL=http://localhost:5173

# -----------------------------------------------------------------------------
# BUSINESS RULES CONFIGURATION
# -----------------------------------------------------------------------------
# Default values for business calculations

# Tax percentage applied to invoices (default: 16%)
DEFAULT_TAX_PERCENTAGE=16

# Late fee multiplier for overdue rentals (default: 1.5x daily rate)
DEFAULT_LATE_FEE_MULTIPLIER=1.5

# Standard cleaning cost for vehicle returns (default: $50)
DEFAULT_CLEANING_COST=50

# Days until invoice is due after generation (default: 7 days)
DEFAULT_INVOICE_DUE_DAYS=7

# =============================================================================
# NOTES:
# =============================================================================
#
# 1. REQUIRED VARIABLES (server will fail to start without these):
#    - DB_HOST
#    - DB_NAME
#    - DB_USER
#    - DB_PASSWORD
#    - JWT_SECRET (only required in production)
#
# 2. SECURITY RECOMMENDATIONS:
#    - Use strong, unique passwords for database and JWT secret
#    - Never commit .env file to version control
#    - In production, use environment variables from your hosting platform
#    - Keep JWT_SECRET at least 32 characters long
#
# 3. DEVELOPMENT DEFAULTS:
#    - If JWT_SECRET is not set in development, a default is used (with warning)
#    - Database logging is enabled by default in development
#
# =============================================================================
